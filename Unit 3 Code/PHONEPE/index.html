
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>

var img=document.createElement("img")



    function status(){
        return true;
        // return false;
    }

var aapp=new Promise(function(resolve,reject){
    var time=(Math.random()*10000)+3000;
   var yess=status()
   img.src="https://acegif.com/wp-content/uploads/loading-1.gif"
   document.querySelector("body").append(img)
   setTimeout(function(){
   if(yess){
            resolve("succesful")
        }
        else{
            reject("not succesful")
        }
    },time)
})



async function check(){
    try{
        var res=await aapp;
        console.log(res)
         img.src="https://indianinsights.in/wp-content/uploads/2021/08/payment-success.gif"
        document.querySelector("body").append(img)
    }
    catch(err){
        console.log(err)
        img.src="https://quicksavaari.com/failed.gif"
        document.querySelector("body").append(img)  
    }

}
check()
</script>